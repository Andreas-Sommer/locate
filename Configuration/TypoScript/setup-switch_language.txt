config.tx_locate = 1
config.tx_locate {
    dryRun = 0
    overrideParam = setLang

    actions {
        redirectToPageEN = Leuchtfeuer\Locate\Action\Redirect
        redirectToPageEN {
            sys_language = 0
            cookieHandling = 1
            overrideCookie = 1
        }

        redirectToPageDE = Leuchtfeuer\Locate\Action\Redirect
        redirectToPageDE {
            sys_language = 1
            cookieHandling = 1
            overrideCookie = 1
        }

        redirectToPageZH = Leuchtfeuer\Locate\Action\Redirect
        redirectToPageZH {
            sys_language = 2
            cookieHandling = 1
            overrideCookie = 1
        }
    }

    facts {
        browserAccepted = Leuchtfeuer\Locate\FactProvider\BrowserAcceptedLanguage
        countryByIP = Leuchtfeuer\Locate\FactProvider\IP2Country
        env = Leuchtfeuer\Locate\FactProvider\Environment
    }

    judges {
        100 = Leuchtfeuer\Locate\Judge\Condition
        100 {
            action = redirectToPageDE
            fact = countryByIP
#            prosecution = -
            prosecution = de
        }

        200 = Leuchtfeuer\Locate\Judge\Condition
        200 {
            action = redirectToPageZH
            fact = env
            prosecution {
                HTTP_HOST = www.Leuchtfeuer.com
            }
        }

        300 = Leuchtfeuer\Locate\Judge\Condition
        300 {
            action = redirectToPageDE
            fact = browserAccepted
            prosecution = de-DE
        }

        310 = Leuchtfeuer\Locate\Judge\Condition
        310 {
            action = redirectToPageZH
            fact = browserAccepted
            prosecution = zh
        }

        320 = Leuchtfeuer\Locate\Judge\Condition
        320 {
            action = redirectToPageEN
            fact = browserAccepted
            prosecution = en
        }

        999 = Leuchtfeuer\Locate\Judge\Fixed
        999.action = redirectToPageEN
    }
}

